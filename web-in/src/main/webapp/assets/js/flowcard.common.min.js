/** ! hewoxin 2016-08-26 */
function showToast() {
    $("#loadingToast").show()
}
function hideToast() {
    $("#loadingToast").hide()
}
!function () {
    function a() {
        var a = navigator.userAgent.toLowerCase();
        return "micromessenger" == a.match(/MicroMessenger/i)
    }

    function b(a) {
        a.addClass("ajaxLoading");
        var b = a.html();
        a.data("orig", b), a.html(a.data("loadingtext") || "加载中...")
    }

    function c() {
        var a = $(".btn.ajaxLoading");
        a.removeClass("ajaxLoading")
    }

    function d(a) {
        var b = $(".btn.ajaxLoading");
        a ? b.html(b.data("successtext") || b.data("orig")) : b.html(b.data("orig"))
    }

    var e = "ldp", f = document.documentElement.clientWidth, g = window.devicePixelRatio;
    g && g < 1.5 && (e = "ldp"), g && g >= 1.5 && g < 2.5 && (e = "mdp"), (g && g >= 2.5 || f > 640) && (e = "mdp"), $("img[data-src]").each(function () {
        var a = $(this).data("src");
        $(this).attr("src", baseUrl + e + "/" + a)
    }), a() && ($("#flow-nav").hide(), $("body").css("padding-top", "0")), $('.btn[data-ajaxloading="true"]').on("tap", function () {
        $('.btn[data-ajaxloading="true"].ajaxStarting').removeClass("ajaxStarting"), $(this).addClass("ajaxStarting")
    }), $(document).on("ajaxComplete", function (a, b) {
        c()
    }).on("ajaxError", function (a, b, c) {
        d(!1)
    }).on("ajaxSuccess", function (a, b, c, e) {
        d(e && e.success ? !0 : !1)
    }).on("ajaxBeforeSend", function () {
        var a = $(".btn.ajaxStarting");
        b(a)
    }), window.ajaxData = function (a, b, c, d, e) {
        e = e || "POST", $.ajax({
            url: a, type: e, data: b, dataType: "json", success: function (a) {
                c && c(a)
            }, error: function (a) {
                d && d(a)
            }
        })
    }
}(), function () {
    var a = navigator.userAgent.toLowerCase(), b = null;
    (a.indexOf("iphone") >= 0 || a.indexOf("ipad") >= 0) && document.body.addEventListener("touchend", function (a) {
        var c = (new Date).getTime();
        b = b || c + 1;
        var d = c - b;
        return d < 500 && d > 0 ? (a.preventDefault(), !1) : void(b = c)
    }, !1), $(".numberInput").on("input", function () {
        var a = $(this).val();
        if (a = a.replace(/[^0-9]+/, ""), $(this).val(a), a.length == $(this).attr("maxlength")) {
            var b = this;
            window.setTimeout(function () {
                $(b).blur()
            }, 1)
        }
    })
}();