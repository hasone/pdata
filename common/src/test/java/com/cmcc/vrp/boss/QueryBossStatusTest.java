package com.cmcc.vrp.boss;

/**
 * Created by leelyn on 2016/10/10.
 */
public class QueryBossStatusTest extends BaseBossServiceTest {

//    @InjectMocks
//    AsynChargeQueryWorker asynChargeQueryWorker = new AsynChargeQueryWorker();
//
//    @InjectMocks
//    AsynChargeQueryConsumer consumer = new AsynChargeQueryConsumer();
//
//    @Mock
//    AccountService accountService;
//
//    @Mock
//    TaskProducer taskProducer;
//
//    @Mock
//    ChargeRecordService chargeRecordService;
//
//    @Mock
//    BaseBossQuery bossQuery;
//
//    @Autowired
//    Gson gson;
//
//    @Before
//    public void initMocks() {
//        MockitoAnnotations.initMocks(this);
//        when(accountService.returnFunds(any(String.class))).thenReturn(true);
//        when(taskProducer.produceAsynChargeQueryMsg(any(ChargeQueryPojo.class))).thenReturn(true);
//        when(chargeRecordService.getRecordBySN(any(String.class))).thenReturn(new ChargeRecord());
//        when(bossQuery.queryStatus(any(String.class))).thenReturn(BossQueryResult.SUCCESS);
//        when(asynChargeQueryWorker.getTaskString()).thenReturn(buildStr());
//    }
//
//    @Ignore
//    @Test
//    public void testExec() {
//        consumer.start();
//    }
//
//    private String buildStr() {
//        ChargeQueryPojo pojo = new ChargeQueryPojo();
//        pojo.setEntId(1l);
//        pojo.setSystemNum("123456789");
//        pojo.setFingerPrint("beijing123456789");
//        return gson.toJson(pojo);
//    }

}
